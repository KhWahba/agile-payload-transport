<mujoco model="2cfs_payload">

  <asset>
    <texture name="grid" type="2d" builtin="checker" rgb1=".1 .2 .3"
    rgb2=".2 .3 .4" width="300" height="300" mark="edge" markrgb=".2 .3 .4"/>
    <material name="grid" texture="grid" texrepeat="2 2" texuniform="true"
    reflectance=".2"/>
  </asset>

  <visual>
      <global azimuth="-20" elevation="-90" ellipsoidinertia="true" />
      <headlight ambient="0.3 0.3 0.3" diffuse="0.6 0.6 0.6" specular="0 0 0" />
      <rgba haze="0.15 0.25 0.35 1" />
  </visual>

  <option gravity="0 0 -9.81" integrator="Euler" timestep="0.02" density="0" viscosity="0">
  <flag contact="enable"/>
</option>

  <compiler inertiafromgeom="false" meshdir="cf2/assets" autolimits="false"/>

  <default>
    <default class="cf2">
      <default class="visual">
        <geom group="2" type="mesh" contype="0" conaffinity="0"/>
      </default>
      <default class="collision">
        <geom group="3" type="mesh"/>
      </default>
      <site group="5"/>
    </default>
  </default>


  <asset>
    <texture type="skybox" builtin="gradient" rgb1="0.3 0.5 0.7" rgb2="0 0 0" width="512" height="3072" />
    <texture type="2d" name="groundplane" builtin="checker" mark="edge" rgb1="0.2 0.3 0.4" rgb2="0.1 0.2 0.3" markrgb="0.8 0.8 0.8" width="300" height="300" />
    <material name="groundplane" texture="groundplane" texuniform="true" texrepeat="10 10" reflectance="0" />

    <material name="polished_plastic" rgba="0.631 0.659 0.678 1"/>
    <material name="polished_gold" rgba="0.969 0.878 0.6 1"/>
    <material name="medium_gloss_plastic" rgba="0.109 0.184 0.0 1"/>
    <material name="propeller_plastic" rgba="0.792 0.820 0.933 1"/>
    <material name="white" rgba="1 1 1 1"/>
    <material name="body_frame_plastic" rgba="0.102 0.102 0.102 1"/>
    <material name="burnished_chrome" rgba="0.898 0.898 0.898 1"/>

    <mesh file="cf2_0.obj"/>
    <mesh file="cf2_1.obj"/>
    <mesh file="cf2_2.obj"/>
    <mesh file="cf2_3.obj"/>
    <mesh file="cf2_4.obj"/>
    <mesh file="cf2_5.obj"/>
    <mesh file="cf2_6.obj"/>
    <mesh file="cf2_collision_0.obj"/>
    <mesh file="cf2_collision_1.obj"/>
    <mesh file="cf2_collision_2.obj"/>
    <mesh file="cf2_collision_3.obj"/>
    <mesh file="cf2_collision_4.obj"/>
    <mesh file="cf2_collision_5.obj"/>
    <mesh file="cf2_collision_6.obj"/>
    <mesh file="cf2_collision_7.obj"/>
    <mesh file="cf2_collision_8.obj"/>
    <mesh file="cf2_collision_9.obj"/>
    <mesh file="cf2_collision_10.obj"/>
    <mesh file="cf2_collision_11.obj"/>
    <mesh file="cf2_collision_12.obj"/>
    <mesh file="cf2_collision_13.obj"/>
    <mesh file="cf2_collision_14.obj"/>
    <mesh file="cf2_collision_15.obj"/>
    <mesh file="cf2_collision_16.obj"/>
    <mesh file="cf2_collision_17.obj"/>
    <mesh file="cf2_collision_18.obj"/>
    <mesh file="cf2_collision_19.obj"/>
    <mesh file="cf2_collision_20.obj"/>
    <mesh file="cf2_collision_21.obj"/>
    <mesh file="cf2_collision_22.obj"/>
    <mesh file="cf2_collision_23.obj"/>
    <mesh file="cf2_collision_24.obj"/>
    <mesh file="cf2_collision_25.obj"/>
    <mesh file="cf2_collision_26.obj"/>
    <mesh file="cf2_collision_27.obj"/>
    <mesh file="cf2_collision_28.obj"/>
    <mesh file="cf2_collision_29.obj"/>
    <mesh file="cf2_collision_30.obj"/>
    <mesh file="cf2_collision_31.obj"/>
  </asset>

  <worldbody>
    <geom name="floor" size="0 0 0.05" type="plane" material="groundplane" />
    <light pos="0 0 1.5" dir="0 0 -1" directional="true" />
    <geom name="obs1"
            type="box"
            pos="0.0 0.3 0.0"
            size="0.15 0.15 1.5"
            rgba="0.8 0.2 0.2 1"
            contype="0" conaffinity="0"
            material="polished_plastic"
    />
    <geom name="obs2"
          type="box"
          pos="0.0 -0.3 0.0"
          size="0.15 0.15 1.5"
          rgba="0.8 0.2 0.2 1"
          contype="0" conaffinity="0"
          material="polished_plastic"
    />

        <!-- <geom name="obs3"
            type="box"
          pos="0.0 0.0 1.5"
            size="0.15 0.65 0.15"
            rgba="0.8 0.2 0.2 1"
            contype="0" conaffinity="0"
            material="polished_plastic"
    />

    <geom name="obs4"
          type="box"
          pos="0.0 0.0 0.2"
            size="0.15 0.5 0.4"
          rgba="0.8 0.2 0.2 1"
          contype="0" conaffinity="0"
          material="polished_plastic"
    /> -->


    <body name="payload" pos="0.0 0.0 0.0" quat="1 0 0 0">
      <joint type="free" damping="0"/>
      <geom size="0.01" type="sphere" rgba="0.8 0.8 0.8 1"  group="1"/>
      <inertial pos="0 0 0" mass="0.01" diaginertia="1e-8 1e-8 1e-8" />
      <site name="payload_s" pos="0 0 0" />
    </body>

    <body name="cf21" pos="0.0 0.0 0.0" childclass="cf2" quat="1 0 0 0">
       <geom name="sphere1"
          type="sphere"
          pos="0.0 0.0 0.0"
          size="0.08"
          rgba="0.8 0.2 0.2 0.1"
          contype="1" conaffinity="1"
    />
      <site name="uav1_s" pos="0 0 0" />
      <joint type="free" damping="0"/>
      <inertial pos="0 0 0" mass="0.0356" diaginertia="16.571710e-6 16.655602e-6 29.261652e-6"/>
      <geom mesh="cf2_0" material="propeller_plastic" class="visual"/>
      <geom mesh="cf2_1" material="medium_gloss_plastic" class="visual"/>
      <geom mesh="cf2_2" material="polished_gold" class="visual"/>
      <geom mesh="cf2_3" material="polished_plastic" class="visual"/>
      <geom mesh="cf2_4" material="burnished_chrome" class="visual"/>
      <geom mesh="cf2_5" material="body_frame_plastic" class="visual"/>
      <geom mesh="cf2_6" material="white" class="visual"/>
      <geom mesh="cf2_collision_0" class="collision"/>
      <geom mesh="cf2_collision_1" class="collision"/>
      <geom mesh="cf2_collision_2" class="collision"/>
      <geom mesh="cf2_collision_3" class="collision"/>
      <geom mesh="cf2_collision_4" class="collision"/>
      <geom mesh="cf2_collision_5" class="collision"/>
      <geom mesh="cf2_collision_6" class="collision"/>
      <geom mesh="cf2_collision_7" class="collision"/>
      <geom mesh="cf2_collision_8" class="collision"/>
      <geom mesh="cf2_collision_9" class="collision"/>
      <geom mesh="cf2_collision_10" class="collision"/>
      <geom mesh="cf2_collision_11" class="collision"/>
      <geom mesh="cf2_collision_12" class="collision"/>
      <geom mesh="cf2_collision_13" class="collision"/>
      <geom mesh="cf2_collision_14" class="collision"/>
      <geom mesh="cf2_collision_15" class="collision"/>
      <geom mesh="cf2_collision_16" class="collision"/>
      <geom mesh="cf2_collision_17" class="collision"/>
      <geom mesh="cf2_collision_18" class="collision"/>
      <geom mesh="cf2_collision_19" class="collision"/>
      <geom mesh="cf2_collision_20" class="collision"/>
      <geom mesh="cf2_collision_21" class="collision"/>
      <geom mesh="cf2_collision_22" class="collision"/>
      <geom mesh="cf2_collision_23" class="collision"/>
      <geom mesh="cf2_collision_24" class="collision"/>
      <geom mesh="cf2_collision_25" class="collision"/>
      <geom mesh="cf2_collision_26" class="collision"/>
      <geom mesh="cf2_collision_27" class="collision"/>
      <geom mesh="cf2_collision_28" class="collision"/>
      <geom mesh="cf2_collision_29" class="collision"/>
      <geom mesh="cf2_collision_30" class="collision"/>
      <geom mesh="cf2_collision_31" class="collision"/>
      <!-- Correctly allocated motor locations -->
      <site name="motor11" pos="0.03253 -0.03253 0" size="0.000005"/>
      <site name="motor12" pos="-0.03253  -0.03253 0" size="0.000005"/>
      <site name="motor13" pos=" -0.03253  0.03253 0" size="0.000005"/>
      <site name="motor14" pos=" 0.03253 0.03253 0" size="0.000005"/>
    </body>

    <body name="cf22" pos="-0.0 0.0 0.0" childclass="cf2" quat="1 0 0 0">
    <geom name="sphere2"
      type="sphere"
      pos="0.0 0.0 0.0"
      size="0.08"
      rgba="0.8 0.2 0.2 0.1"
      contype="0" conaffinity="0"
    />

      <joint type="free" damping="0"/>
      <site name="uav2_s" pos="0 0 0" />
      <inertial pos="0 0 0" mass="0.0356" diaginertia="16.571710e-6 16.655602e-6 29.261652e-6"/>
      <geom mesh="cf2_0" material="propeller_plastic" class="visual"/>
      <geom mesh="cf2_1" material="medium_gloss_plastic" class="visual"/>
      <geom mesh="cf2_2" material="polished_gold" class="visual"/>
      <geom mesh="cf2_3" material="polished_plastic" class="visual"/>
      <geom mesh="cf2_4" material="burnished_chrome" class="visual"/>
      <geom mesh="cf2_5" material="body_frame_plastic" class="visual"/>
      <geom mesh="cf2_6" material="white" class="visual"/>
      <geom mesh="cf2_collision_0" class="collision"/>
      <geom mesh="cf2_collision_1" class="collision"/>
      <geom mesh="cf2_collision_2" class="collision"/>
      <geom mesh="cf2_collision_3" class="collision"/>
      <geom mesh="cf2_collision_4" class="collision"/>
      <geom mesh="cf2_collision_5" class="collision"/>
      <geom mesh="cf2_collision_6" class="collision"/>
      <geom mesh="cf2_collision_7" class="collision"/>
      <geom mesh="cf2_collision_8" class="collision"/>
      <geom mesh="cf2_collision_9" class="collision"/>
      <geom mesh="cf2_collision_10" class="collision"/>
      <geom mesh="cf2_collision_11" class="collision"/>
      <geom mesh="cf2_collision_12" class="collision"/>
      <geom mesh="cf2_collision_13" class="collision"/>
      <geom mesh="cf2_collision_14" class="collision"/>
      <geom mesh="cf2_collision_15" class="collision"/>
      <geom mesh="cf2_collision_16" class="collision"/>
      <geom mesh="cf2_collision_17" class="collision"/>
      <geom mesh="cf2_collision_18" class="collision"/>
      <geom mesh="cf2_collision_19" class="collision"/>
      <geom mesh="cf2_collision_20" class="collision"/>
      <geom mesh="cf2_collision_21" class="collision"/>
      <geom mesh="cf2_collision_22" class="collision"/>
      <geom mesh="cf2_collision_23" class="collision"/>
      <geom mesh="cf2_collision_24" class="collision"/>
      <geom mesh="cf2_collision_25" class="collision"/>
      <geom mesh="cf2_collision_26" class="collision"/>
      <geom mesh="cf2_collision_27" class="collision"/>
      <geom mesh="cf2_collision_28" class="collision"/>
      <geom mesh="cf2_collision_29" class="collision"/>
      <geom mesh="cf2_collision_30" class="collision"/>
      <geom mesh="cf2_collision_31" class="collision"/>
      <!-- Correctly allocated motor locations -->
      <site name="motor21" pos="0.03253 -0.03253 0" size="0.000005"/>
      <site name="motor22" pos="-0.03253  -0.03253 0" size="0.000005"/>
      <site name="motor23" pos=" -0.03253  0.03253 0" size="0.000005"/>
      <site name="motor24" pos=" 0.03253 0.03253 0" size="0.000005"/>
    </body>
  </worldbody>

  <actuator>
    <motor class="cf2" ctrlrange="0.0 0.14" ctrllimited="true" gear="0 0 1 0 0 -0.006" site="motor11" name="f11"/>
    <motor class="cf2" ctrlrange="0.0 0.14" ctrllimited="true" gear="0 0 1 0 0 0.006"  site="motor12" name="f21"/>
    <motor class="cf2" ctrlrange="0.0 0.14" ctrllimited="true" gear="0 0 1 0 0 -0.006" site="motor13" name="f31"/>
    <motor class="cf2" ctrlrange="0.0 0.14" ctrllimited="true" gear="0 0 1 0 0 0.006"  site="motor14" name="f41"/>
  </actuator>

  <actuator>
    <motor class="cf2" ctrlrange="0.0 0.14" ctrllimited="true" gear="0 0 1 0 0 -0.006" site="motor21" name="f12"/>
    <motor class="cf2" ctrlrange="0.0 0.14" ctrllimited="true" gear="0 0 1 0 0 0.006"  site="motor22" name="f22"/>
    <motor class="cf2" ctrlrange="0.0 0.14" ctrllimited="true" gear="0 0 1 0 0 -0.006" site="motor23" name="f32"/>
    <motor class="cf2" ctrlrange="0.0 0.14" ctrllimited="true" gear="0 0 1 0 0 0.006"  site="motor24" name="f42"/>
  </actuator>


    <tendon>
      <spatial name="tendon1"  limited="true" range="0.0 0.5"  damping="0" width="0.001" rgba="0.1 0.8 0.1 1">
          <site site="payload_s" />
          <site site="uav1_s" />
      </spatial>
  </tendon>
  <tendon>
      <spatial name="tendon2"  limited="true" range="0.0 0.5" damping="0" width="0.001" rgba="0.1 0.8 0.1 1">
         <site site="payload_s" />
          <site site="uav2_s" />
      </spatial>
  </tendon>

  <equality>
    <connect name="rod1"
            site1="uav1_s" site2="payload_s"
            active='false'
            />
  </equality>

  <sensor>
    <accelerometer name="payload_sensor" site="payload_s" noise='0.01'/>
  </sensor>
</mujoco>
